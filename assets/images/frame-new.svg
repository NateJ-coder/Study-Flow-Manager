<?xml version="1.0" encoding="UTF-8"?>
<svg id="lofi-scene" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 800" role="img" aria-label="LoFi window with sleeping cat and steaming kettle" data-theme="neutral">
  <title>LoFi Window Frame</title>
  <defs>
    <!-- ====== COLOR SYSTEM (scoped to this SVG) ======
         We theme via svg[data-theme="..."] rules below. -->
    <linearGradient id="woodGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%"  stop-color="#caa06a"/>
      <stop offset="100%" stop-color="#a5773b"/>
    </linearGradient>
    <linearGradient id="woodGradDark" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%"  stop-color="#8d642e"/>
      <stop offset="100%" stop-color="#66441b"/>
    </linearGradient>
    <!-- Gentle sky reflection on the glass -->
    <linearGradient id="glassGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%"  stop-color="rgba(255,255,255,.22)"/>
      <stop offset="60%" stop-color="rgba(255,255,255,.06)"/>
      <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
    </linearGradient>

    <!-- Subtle wood grain texture -->
    <filter id="woodGrain" x="-10%" y="-10%" width="120%" height="120%">
      <feTurbulence baseFrequency="0.9 0.02" numOctaves="2" seed="7" type="fractalNoise" result="noise"/>
      <feColorMatrix type="matrix" values="
        0 0 0 0 0
        0 0 0 0 0
        0 0 0 0 0
        0 0 0 .18 0" result="alphaNoise"/>
      <feComposite in="alphaNoise" in2="SourceAlpha" operator="in" result="grain"/>
      <feGaussianBlur in="grain" stdDeviation="0.3" result="grainBlur"/>
      <feBlend in="SourceGraphic" in2="grainBlur" mode="multiply"/>
    </filter>

    <!-- Drop shadow for scene elements -->
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="6" result="blur"/>
      <feOffset dx="0" dy="3"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope=".35"/>
      </feComponentTransfer>
      <feComposite operator="over" in2="SourceGraphic"/>
    </filter>

    <!-- Inner shadow for window opening -->
    <filter id="innerShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="5" result="blur"/>
      <feOffset dx="0" dy="2" result="off"/>
      <feComposite in="off" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="inv"/>
      <feColorMatrix in="inv" type="matrix" values="
        0 0 0 0 0
        0 0 0 0 0
        0 0 0 0 0
        0 0 0 .6 0" result="shadow"/>
      <feComposite in="shadow" in2="SourceGraphic" operator="over"/>
    </filter>

    <!-- Glass glare mask -->
    <mask id="glassMask">
      <rect x="100" y="100" width="800" height="500" rx="8" ry="8" fill="white"/>
      <!-- Soft diagonal cut for glare highlight -->
      <path d="M120 120 L420 120 L880 560 L580 560 Z" fill="black" opacity=".4"/>
    </mask>

    <!-- Steam blur -->
    <filter id="steamBlur" x="-20%" y="-40%" width="140%" height="200%">
      <feGaussianBlur stdDeviation="2"/>
    </filter>

    <!-- ====== ANIMATIONS ====== -->
    <style>
      /* Base LoFi stroke/shape look */
      #lofi-scene path,
      #lofi-scene rect,
      #lofi-scene circle,
      #lofi-scene line {
        stroke-linejoin: round;
        stroke-linecap: round;
      }

      /* Global fit: you can scale via CSS if inlined */
      svg#lofi-scene {
        --frame-stroke: #2a2a2a;
        --frame-stroke-strong: #1e1e1e;
        --frame-line: #2b2b2b;
        --cat-fill: #2f2f2f;
        --cat-stroke: #1d1d1d;
        --steam: #ffffff;
        --kettle-body: #e9eaec;
        --kettle-stroke: #707070;
        --sill-grad: url(#woodGradDark);
        --frame-grad: url(#woodGrad);
        --glass-stroke: rgba(255,255,255,.35);
        --glass-reflect: url(#glassGrad);
        filter: drop-shadow(0 4px 8px rgba(0,0,0,.45));
      }

      /* ===== Seasonal themes (scoped to this SVG file) ===== */
      svg#lofi-scene[data-theme="summer"] {
        --frame-stroke: #2c3b21;
        --frame-line: #2c3b21;
        --sill-grad: url(#woodGrad);
        --frame-grad: url(#woodGrad);
      }
      svg#lofi-scene[data-theme="autumn"] {
        --frame-stroke: #6c3f1f;
        --frame-line: #6c3f1f;
        --sill-grad: url(#woodGradDark);
        --frame-grad: url(#woodGrad);
      }
      svg#lofi-scene[data-theme="winter"] {
        --frame-stroke: #80a6c8;
        --frame-line: #80a6c8;
        --sill-grad: url(#woodGrad);
        --frame-grad: url(#woodGrad);
      }

      /* Window parts */
      #window-outline,
      #window-divider-v,
      #window-divider-h {
        stroke: var(--frame-stroke);
      }
      #window-divider-v,
      #window-divider-h {
        stroke-width: 10;
      }

      /* Cat */
      #cat-body, #cat-head, #cat-ear-l, #cat-ear-r, #cat-tail-path {
        fill: var(--cat-fill);
        stroke: var(--cat-stroke);
        stroke-width: 3;
      }
      #cat-sleeping-pad {
        filter: url(#softShadow);
      }
      .cat-face { fill: none; stroke: var(--cat-stroke); stroke-width: 2; }

      /* Kettle */
      #kettle-body, #kettle-lid, #kettle-base {
        fill: var(--kettle-body);
        stroke: var(--kettle-stroke);
        stroke-width: 3;
      }
      #kettle-handle, #kettle-spout {
        fill: none;
        stroke: var(--kettle-stroke);
        stroke-width: 4;
      }

      /* Steam */
      .steam-line {
        stroke: var(--steam);
        stroke-width: 4;
        fill: none;
        opacity: .9;
        filter: url(#steamBlur);
      }

      /* Glass */
      #window-view-rect {
        fill: none;
        stroke: var(--glass-stroke);
        stroke-width: 2;
      }
      #glass-reflection {
        fill: var(--glass-reflect);
        opacity: .9;
        mask: url(#glassMask);
        pointer-events: none;
      }

      /* Wood fills */
      #window-frame-fill {
        fill: var(--frame-grad);
        filter: url(#woodGrain);
      }
      #windowsill {
        fill: var(--sill-grad);
        filter: url(#woodGrain);
      }

      /* ===== Animations ===== */
      @keyframes tail-wiggle {
        0%, 100% { transform: rotate(0deg); }
        50%      { transform: rotate(8deg); }
      }
      .animated-tail-wiggle {
        transform-box: fill-box;
        transform-origin: left center;
        animation: tail-wiggle 3s ease-in-out infinite alternate;
      }

      @keyframes steam-rise {
        0%   { transform: translateY(0px) translateX(0px); opacity: 0; }
        25%  { opacity: 0.9; }
        65%  { transform: translateY(-90px) translateX(6px); opacity: 0.6; }
        100% { transform: translateY(-140px) translateX(-6px); opacity: 0; }
      }
      .animated-steam-rise .steam-line {
        animation: steam-rise 4.6s linear infinite;
      }
      .animated-steam-rise .steam-2 { animation-delay: .9s; }
      .animated-steam-rise .steam-3 { animation-delay: 1.8s; }
      .animated-steam-rise .steam-4 { animation-delay: 2.7s; opacity: .75; }
      .animated-steam-rise .steam-5 { animation-delay: 3.6s; opacity: .65; }

      /* Subtle entrance fade for the whole scene */
      @keyframes scene-in {
        from { opacity: 0; transform: translateY(8px); }
        to   { opacity: 1; transform: translateY(0); }
      }
      #scene-root { animation: scene-in .6s ease both; }

      /* Performance mode for low-end devices */
      svg[data-performance="low"] #window-frame-fill,
      svg[data-performance="low"] #windowsill { filter: none; }
      svg[data-performance="low"] .steam-line { filter: none; }

      /* Respect reduced motion preference */
      @media (prefers-reduced-motion: reduce) {
        .animated-tail-wiggle, .animated-steam-rise .steam-line { 
          animation: none !important; 
        }
      }
    </style>
  </defs>

  <!-- ===== TRANSPARENT VIEWPORT (lets your bg slideshow show through) ===== -->
  <rect id="window-view-rect" x="100" y="100" width="800" height="500" rx="8" ry="8"/>

  <!-- ===== SCENE ROOT ===== -->
  <g id="scene-root">

    <!-- ===== FRAME + SILL SHAPES (with inner shadow + grain) ===== -->
    <g id="window-frame-and-sill" filter="url(#innerShadow)">
      <!-- Outer frame fill for richer look -->
      <rect id="window-frame-fill" x="90" y="90" width="820" height="520" rx="14" ry="14"/>
      <!-- Outline + dividers -->
      <rect x="95" y="95" width="810" height="510" rx="10" ry="10" id="window-outline" fill="none" stroke-width="10"/>
      <line x1="500" y1="100" x2="500" y2="600" id="window-divider-v"/>
      <line x1="100" y1="350" x2="900" y2="350" id="window-divider-h"/>
      <!-- Sill -->
      <rect x="0" y="550" width="1000" height="250" id="windowsill"/>
    </g>

    <!-- Glass reflection layer -->
    <rect id="glass-reflection" x="100" y="100" width="800" height="500" rx="8" ry="8"/>

    <!-- ===== CAT ===== -->
    <g id="cat-group" transform="translate(200, 520)" filter="url(#softShadow)">
      <!-- Sleeping pad -->
      <rect x="0" y="0" width="240" height="54" rx="12" id="cat-sleeping-pad" fill="#a06b3a" opacity="0.85"/>

      <!-- Body (curved, slightly more detail) -->
      <path id="cat-body" d="M15 42 Q40 18 80 16 Q140 10 200 24 Q214 30 225 45 Q210 50 15 42 Z"/>
      <!-- Head -->
      <circle id="cat-head" cx="34" cy="20" r="16"/>
      <!-- Ears -->
      <path id="cat-ear-l" d="M22 8 L30 1 L34 10 Z"/>
      <path id="cat-ear-r" d="M42 8 L38 1 L34 10 Z"/>
      <!-- Face -->
      <path class="cat-face" d="M28 20 q4 4 12 0"/>
      <path class="cat-face" d="M24 18 q-5 4 0 8"/>
      <path class="cat-face" d="M48 18 q5 4 0 8"/>
      <!-- Tail (animated) -->
      <g id="cat-tail-group" transform="translate(228, 40)">
        <path id="cat-tail-path" class="animated-tail-wiggle"
              d="M0 0 Q 18 -10, 12 -46 L 2 -60 Q -2 -63 -5 -60 Q 8 -38 0 0 Z"/>
      </g>
    </g>

    <!-- ===== KETTLE ===== -->
    <g id="kettle-group" transform="translate(700, 500)" filter="url(#softShadow)">
      <!-- Base shadow -->
      <ellipse id="kettle-base" cx="40" cy="140" rx="55" ry="10" opacity=".35"/>

      <!-- Body + lid -->
      <rect id="kettle-body" x="0" y="52" width="90" height="85" rx="10"/>
      <rect id="kettle-lid"  x="12" y="12" width="66" height="44" rx="8"/>

      <!-- Spout & handle -->
      <path id="kettle-spout" d="M88 82 q16 -6 20 6 q-6 12 -20 10"/>
      <path id="kettle-handle" d="M-8 62 q-16 26 6 50 q18 18 34 2"/>

      <!-- Steam -->
      <g id="steam-group" transform="translate(46, 10)" class="animated-steam-rise">
        <path class="steam-line steam-1" d="M0 0 Q -10 -22, 0 -48"/>
        <path class="steam-line steam-2" d="M5 0 Q 16 -32, 0 -64"/>
        <path class="steam-line steam-3" d="M-5 0 Q -15 -40, 0 -86"/>
        <path class="steam-line steam-4" d="M10 0 Q 20 -36, 6 -78"/>
        <path class="steam-line steam-5" d="M-10 0 Q -22 -34, -6 -72"/>
      </g>
    </g>

  </g>
</svg>