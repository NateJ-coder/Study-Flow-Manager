/* Fade-out overlay styles */
#fadeout-overlay {
  position: fixed;
  inset: 0;
  background: #fff;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.7s cubic-bezier(.4,.0,.2,1);
  z-index: 9999;
}
#fadeout-overlay.fadeout {
  opacity: 1;
}

html,body{
  height:100%;
  margin:0;
  background:linear-gradient(to bottom,#f8f5f0,#e7dfd4);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  font-family:"Segoe UI",sans-serif;
}


:root{
  --bg-1:#0f1a14;   /* deep forest */
  --bg-2:#132219;   /* darker base */
  --accent:#89a67c; /* muted moss */
  --bar:#dfe9da;
  --timing: cubic-bezier(.25,.9,.25,1);
  --fade-ms: 600;
}

html,body{height:100%;margin:0}
body{
  background:
    radial-gradient(1200px 800px at 50% 35%, #1a2b22 0%, transparent 60%),
    radial-gradient(900px 700px at 60% 70%, #17261e 0%, transparent 55%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
  display:grid;
  place-items:center;
  overflow:hidden;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

body::after{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  opacity:.08;
  mix-blend-mode:soft-light;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,.05) 0 1px, transparent 1px 2px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.07) 0 1px, transparent 1px 2px);
}

.stage{
  display:grid;
  place-items:center;
  gap:2.2rem;
  padding:2rem;
  text-align:center;
}

#logo{
  width:min(68vw, 420px);
  height:auto;
  image-rendering:-webkit-optimize-contrast;
  filter: drop-shadow(0 14px 40px rgba(0,0,0,.35));
  transform:translate3d(0,8px,0) scale(.96) rotate(-0.4deg);
  opacity:0;
  animation:
    popIn .9s var(--timing) forwards,
    floaty 6s ease-in-out 1s infinite alternate;
}

#logo::selection{background:transparent}
#logo.shimmer{
  mask-image: linear-gradient(110deg, transparent 35%, #000 50%, transparent 65%);
  mask-size: 300% 100%;
  animation: shimmer 1.9s ease-out .9s 2 both, floaty 6s ease-in-out 1s infinite alternate;
}

.progress{
  width:min(72vw, 460px);
  height:10px;
  background:rgba(255,255,255,.08);
  border-radius:999px;
  overflow:hidden;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
.progress .bar{
  width:0%;
  height:100%;
  background:linear-gradient(90deg, var(--bar), #b7c9b1);
  transform-origin:left center;
  transition:width 180ms var(--timing);
}

#transition{
  position:fixed; inset:0;
  background:#000;
  opacity:0;
  pointer-events:none;
  transition:opacity var(--fade-ms) var(--timing);
  z-index:10;
}
#transition.show{ opacity:1 }

@keyframes popIn{
  0%{ opacity:0; transform:translate3d(0,30px,0) scale(.9) rotate(-2deg); }
  60%{ opacity:1; transform:translate3d(0,0,0) scale(1.04) rotate(.3deg); }
  100%{ opacity:1; transform:translate3d(0,0,0) scale(1) rotate(0); }
}
@keyframes floaty{
  0%{ transform:translate3d(0,6px,0) scale(1) rotate(.1deg); }
  100%{ transform:translate3d(0,-6px,0) scale(1.005) rotate(-.1deg); }
}
@keyframes shimmer{
  0%{ mask-position: 200% 0; }
  100%{ mask-position: -100% 0; }
}

@media (prefers-reduced-motion: reduce){
  #logo{ animation:none; opacity:1; transform:none }
  .progress .bar{ transition:none }
}
